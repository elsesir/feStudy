window.onload=function(){var t=document.getElementById("ball1").getContext("2d");t.beginPath(),t.arc(500,250,150,0,2*Math.PI,!1),t.lineWidth=2,t.strockStyle="#ffffff",t.stroke(),t.closePath(),t.beginPath(),t.arc(500,250,100,0,2*Math.PI,!1),t.lineWidth=2,t.strockStyle="#ffffff",t.stroke(),t.closePath(),t.beginPath(),t.arc(500,250,50,0,2*Math.PI,!1),t.lineWidth=2,t.strockStyle="#ffffff",t.stroke(),t.closePath();var i=document.getElementById("cas"),n=i.getContext("2d"),e=i.width/2,a=i.height/2,s=150,o=[],r=Math.PI/100,h=Math.PI/100,f=function(){this.init()};function c(){n.clearRect(0,0,i.width,i.height),function(){for(var t=Math.cos(r),i=Math.sin(r),n=0;n<o.length;n++){var e=o[n].y*t-o[n].z*i,a=o[n].z*t+o[n].y*i;o[n].y=e,o[n].z=a}}(),function(){for(var t=Math.cos(h),i=Math.sin(h),n=0;n<o.length;n++){var e=o[n].x*t-o[n].z*i,a=o[n].z*t+o[n].x*i;o[n].x=e,o[n].z=a}}(),function(){for(var t=Math.cos(h),i=Math.sin(h),n=0;n<o.length;n++){var e=o[n].x*t-o[n].y*i,a=o[n].y*t+o[n].x*i;o[n].x=e,o[n].y=a}}();for(var t=0;t<o.length;t++)o[t].paint();d.isrunning&&("requestAnimationFrame"in window?requestAnimationFrame(c):"webkitRequestAnimationFrame"in window?webkitRequestAnimationFrame(c):"msRequestAnimationFrame"in window?msRequestAnimationFrame(c):"mozRequestAnimationFrame"in window&&mozRequestAnimationFrame(c))}f.prototype={isrunning:!1,init:function(){for(var t=0;t<=12;t++){new u(t,1).draw(),new u(t,-1).draw()}},start:function(){this.isrunning=!0,c()},stop:function(){this.isrunning=!1}};var u=function(t,i){this.radius=Math.sqrt(Math.pow(s,2)-Math.pow(s*Math.cos(t*Math.PI*2/24),2)),this.x=0,this.y=0,this.up=i};u.prototype={setBalls:function(t){for(var i=0;i<24;i++){var n=2*Math.PI/24*i,e=new l(t*Math.cos(n),t*Math.sin(n),this.up*Math.sqrt(Math.pow(s,2)-Math.pow(t,2)),1.5);e.paint(),o.push(e)}},draw:function(){n.beginPath(),n.arc(e,a,this.radius,0,2*Math.PI,!0),n.strokeStyle="#FFF",n.stroke(),this.setBalls(this.radius)}};var l=function(t,i,n,e){this.x=t,this.y=i,this.z=n,this.r=e,this.width=2*e};l.prototype={paint:function(){n.save(),n.beginPath();var t=450/(450-this.z),i=(this.z+s)/300;n.arc(e+this.x,a+this.y,this.r*t,0,2*Math.PI,!0),n.fillStyle="rgba(255,255,255,"+(i+.5)+")",n.fill(),n.restore()}};var d=new f;d.start(),document.getElementById("controlBtn").onclick=function(){"开始"===this.innerText?this.innerText="停止":this.innerText="开始","开始"===this.innerText?d.stop():d.start()}};